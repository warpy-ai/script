// Test Pipeline-style method calls
console.log("Testing Pipeline-style method calls...");

// Define functions like Pipeline does
function myCompile(source) {
    console.log("  myCompile called with: " + source);
    return "compiled";
}

function myCompileViaIr(source) {
    console.log("  myCompileViaIr called with: " + source);
    return "ir-compiled";
}

// Create object like Pipeline
let MyPipeline = {
    compile: myCompile,
    compileViaIr: myCompileViaIr,
    version: "1.0.0"
};

// Test 1: Access version property
console.log("Test 1 - Version: " + MyPipeline.version);

// Test 2: Access function property type
console.log("Test 2 - compile type: " + typeof MyPipeline.compile);

// Test 3: Call method
console.log("Test 3 - Calling MyPipeline.compile:");
let result1 = MyPipeline.compile("let x = 1;");
console.log("  Result: " + result1);

// Test 4: Call another method
console.log("Test 4 - Calling MyPipeline.compileViaIr:");
let result2 = MyPipeline.compileViaIr("let y = 2;");
console.log("  Result: " + result2);

// Test 5: Try calling actual Pipeline if it exists
console.log("");
console.log("Test 5 - Actual Pipeline:");
console.log("  Pipeline.version: " + Pipeline.version);
console.log("  typeof Pipeline.compile: " + typeof Pipeline.compile);

// Test 6: Call actual Pipeline method
console.log("Test 6 - Calling Pipeline.compile:");
let result3 = Pipeline.compile("let z = 3;");
console.log("  Result type: " + typeof result3);

console.log("");
console.log("All tests complete!");
