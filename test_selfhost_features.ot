// Test self-hosting compiler features
console.log("=== Testing Self-Host Compiler Features ===");

// Test 1: Try-Catch-Finally
console.log("\n1. Try-Catch-Finally:");
let caught = false;
try {
    throw "test error";
} catch (e) {
    caught = true;
    console.log("   Caught:", e);
}
console.log("   Was caught:", caught);

let finallyRan = false;
try {
    console.log("   In try block");
} finally {
    finallyRan = true;
}
console.log("   Finally ran:", finallyRan);

// Test 2: For...in loops
console.log("\n2. For...in loops:");
let obj = { a: 1, b: 2, c: 3 };
for (let key in obj) {
    console.log("   Key:", key);
}

// Test 3: For...of loops
console.log("\n3. For...of loops:");
let arr = [10, 20, 30];
for (let item of arr) {
    console.log("   Item:", item);
}

// Test 4: Array Spread
console.log("\n4. Array Spread:");
let arr1 = [1, 2, 3];
let arr2 = [4, 5, 6];
let combined = [...arr1, ...arr2];
console.log("   Combined length:", combined.length);
console.log("   Elements:", combined[0], combined[1], combined[2], combined[3], combined[4], combined[5]);

// Test 5: Object Spread
console.log("\n5. Object Spread:");
let obj1 = { x: 1, y: 2 };
let obj2 = { z: 3 };
let merged = { ...obj1, ...obj2 };
console.log("   x:", merged.x, "y:", merged.y, "z:", merged.z);

// Test 6: Object Shorthand
console.log("\n6. Object Shorthand:");
let name = "test";
let value = 42;
let shorthand = { name, value };
console.log("   name:", shorthand.name, "value:", shorthand.value);

console.log("\n=== All tests completed! ===");
